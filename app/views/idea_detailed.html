<div>
  <div class="alert alert-success" ng-show="message != null">
    {{message}}
  </div>
  <div>
    <h3>{{idea.name}}
      <small> Created by -- {{idea.owner.email}}</small>
      <button ng-if="canBuyIdea(idea)" type="button" class="btn btn-default bt-sm" ng-click="buyIdea(idea, $index)"> Buy
      </button>
    </h3>
    <!--    <div class="btn-group">
          <button type="button" class="btn btn-default bt-sm" ng-click="buyIdea(idea, $index)"> Buy</button>
        </div>-->
  </div>
  <div class="ideaDescription">
    <h5>Description</h5>

    <p>{{idea.description}}</p>
  </div>
  <div ng-if="!canBuyIdea(idea)" class="well well-sm">
    <h4>Idea control</h4>

    <div class="btn-group" role="group" aria-label="...">
      <button ng-show="!idea.published" type="button" class="btn btn-default"
              ng-click="publishIdea(idea, $index, true)">
        Publish
      </button>
      <button ng-show="idea.published && !idea.buyer" type="button" class="btn btn-default"
              ng-click="publishIdea(idea, $index, false)">
        Un publish
      </button>
      <button ng-show="idea.buyer" type="button" class="btn btn-default"
              ng-click="respondToBuyRequest(idea, $index, true)">
        Accept buy
      </button>
      <button ng-show="idea.buyer" type="button" class="btn btn-default"
              ng-click="respondToBuyRequest(idea, $index, false)">
        Decline buy
      </button>
      <button ng-show="!idea.buyer && !idea.published" type="button" class="btn btn-danger"
              ng-click="showDeleteDialog(idea, $index)">
        Delete
      </button>
    </div>
  </div>
  <div class="comments">
    <h3>Comments</h3>
    <ul class="media-list">
      <li class="media" ng-repeat="comment in idea.comments">
        <div class="media-left">
          <img src="images/Unknown.png" alt="User logo" width="64">
        </div>
        <div class="media-body">
          <h5 class="media-heading">
            Comment #{{$index}} by - {{comment.owner.first_name}} <span am-time-ago="comment.created_at"></span>

          </h5>

          <p class="comment">{{comment.comment}}</p>
        </div>

      </li>

      <li class="media well well-sm">
        <div class="media-left">
          <img src="images/Unknown.png" alt="User logo" width="64">
        </div>
        <div class="media-body">
          <h5 class="media-heading">
            New Comment
          </h5>
          <textarea id="idea_comment" name="idea_comment" type="text" ng-model="newComment"
                    placeholder="Comment this idea"></textarea>
        </div>
        <button class="btn btn-default" ng-click="addComment()">
          Add comment
        </button>
      </li>
    </ul>
  </div>
</div>
<div ng-include="'deleteDialog.html'">

</div>
<div ng-include="'views/ideaNotFoundDialog.html'">
</div>
